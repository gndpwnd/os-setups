##########   Gradient Math   ##########
num_of_char_in_user=3
num_of_char_in_host=6

half=2
half_user=$((num_of_char_in_user / half ))
half_host=$((num_of_char_in_host / half ))

if [ "$half_host" == *".5" ]; then
  $h1=$half_host + 1
  $h2=$half_host
  start_host=${HOSTNAME:0:$h1}  
  end_host=${HOSTNAME: -h2}
else
  start_host=${HOSTNAME:0:half_host}  
  end_host=${HOSTNAME: -half_host}
fi

if [ "$half_user" == "*.5" ]; then
  $u1=$half_user
  $u2=$half_user + 1
  start_user=${USER:0:u1}  
  end_user=${USER: -u2}
else
  start_user=${USER:0:half_user}  
  end_user=${USER: -half_user}
fi

echo


##########   COLORS   ##########

export NC='\e[0m' # No Color
export BLACK='\e[0;30m'
export GRAY='\e[1;30m'
export RED='\e[0;31m'
export LIGHT_RED='\e[1;31m'
export GREEN='\e[0;32m'
export LIGHT_GREEN='\e[1;32m'
export BROWN='\e[0;33m'
export YELLOW='\e[1;33m'
export BLUE='\e[0;34m'
export LIGHT_BLUE='\e[1;34m'
export PURPLE='\e[0;35m'
export LIGHT_PURPLE='\e[1;35m'
export CYAN='\e[0;36m'
export LIGHT_CYAN='\e[1;36m'
export LIGHT_GRAY='\e[0;37m'
export WHITE='\e[1;37m'

##########   OPTIONS   ##########

export TERM=xterm-color
export GREP_OPTIONS='--color=auto' GREP_COLOR='1;32'
export CLICOLOR=1
export LSCOLORS=ExFxCxDxBxegedabagacad
##########   FUNCTIONS   ##########
get_git() {
  if git rev-parse --git-dir > /dev/null 2>&1; then
    git_repo=$(basename `git rev-parse --show-toplevel`)
    git_branch=$(git branch 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/(\1)/')
    echo "git ${git_repo}:${git_branch}"
  fi
}

##########   PS1    ##########

[[ $- != *i* ]] && return	

#gradient="${BLUE}${start_user}${PURPLE}${end_user}@${start_host}${RED}${end_host}"
#dir=" ${CYAN}\w\n${GREEN}$(get_git) \[${WHITE}$→ ${LIGHT_GRAY}"
#PS1="${gradient}${dir}"

PS1="${BLUE}\u${PURPLE}@${RED}\h ${CYAN}\w\n${GREEN}$(get_git) \[${WHITE}$→ ${LIGHT_GRAY}"

##########   ENV   ##########
alias ls='ls --color=auto'
source ~/.bash_aliases
PATH="$HOME/.cargo/bin:$PATH"
PATH="$HOME/.local/bin:$PATH"


if [ -f /usr/share/bash-completion/bash_completion ]; then
    . /usr/share/bash-completion/bash_completion
  elif [ -f /etc/bash_completion ]; then
    . /etc/bash_completion
fi

export PATH=$PATH:~/.platformio/penv/bin
